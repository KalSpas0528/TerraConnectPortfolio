<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TerraConnect Portfolio - Home</title>
  <link rel="stylesheet" href="styles.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <!-- Navigation Bar -->
  <div class="navbar">
    <div class="logo">TerraConnect</div>
    <nav>
      <ul>
        <li><a href="index.html" class="nav-link">Home</a></li>
        <li><a href="past-work.html" class="nav-link btn">Past Work</a></li>
      </ul>
    </nav>
  </div>

  <!-- Main Content Container -->
  <div class="container">
    <!-- Collapsible: Current Project Details -->
    <div class="collapsible">
      <h2 id="current-project" class="collapsible-header">
        Current Project Details (click to expand)
      </h2>
      <div class="collapsible-content">
        <!-- Project Title & Description -->
        <h3>Project Title &amp; Description</h3>
        <p>
          <strong>TerraConnect: Global Interactive News Map</strong><br>
          TerraConnect is an innovative platform that integrates an interactive world map with live news updates.
          Designed to empower users with localized and global news at their fingertips, this project leverages modern
          web technologies to deliver a seamless and engaging experience.
        </p>

        <!-- Research & Planning Documentation -->
        <h3>Research &amp; Planning Documentation</h3>
        <p>
          Extensive research was conducted on mapping libraries such as Leaflet.js and on various methods for live news
          integration—including News APIs, web scraping, and RSS feeds. Detailed planning documents and wireframes were
          created to ensure an optimal user flow and high performance.
        </p>

        <!-- Current Progress with Screenshots & Code Snippets -->
        <h3>Current Progress with Screenshots &amp; Code Snippets</h3>
        <!-- Nested collapsible for progress details -->
        <div class="collapsible">
          <h4 class="collapsible-header">
            View Progress Details (click to expand)
          </h4>
          <div class="collapsible-content">
            <p>
              <img src="images/CurrentProgressScreenshot.png" alt="Current Progress Screenshot" />
            </p>
            <pre>
// Sample code snippet for fetching news data
async function fetchNews(country) {
  try {
    const response = await fetch(`api/news?country=${country}`);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching news:", error);
  }
}
            </pre>
            <p>
              <!-- New Update: Country Comparison Button Added -->
              A new feature has been added to the platform—a "Compare Countries" button. This feature allows users to select
              two countries from a dropdown menu and view a side-by-side comparison of key details, including population, area,
              region, capital, and languages. The feature is powered by the Rest Countries API and offers a seamless comparison
              experience.
            </p>
            <pre>
// Code snippet for comparing two countries
document.addEventListener("DOMContentLoaded", () => {
  const comparisonModal = document.getElementById("comparisonModal");
  const closeComparisonModal = document.getElementById("closeComparisonModal");
  const compareBtn = document.getElementById("compareBtn");
  const country1Select = document.getElementById("country1");
  const country2Select = document.getElementById("country2");
  const comparisonResults = document.getElementById("comparisonResults");
  const compareCountriesBtn = document.getElementById("compareCountriesBtn");

  if (!comparisonModal) {
    console.error("Comparison modal not found.");
    return;
  }
  if (!compareCountriesBtn) {
    console.error("Compare Countries button not found.");
  }

  function openComparisonModal() {
    comparisonModal.style.display = "block";
  }
  if (compareCountriesBtn) {
    compareCountriesBtn.addEventListener("click", openComparisonModal);
  }

  async function populateComparisonDropdowns() {
    try {
      const response = await fetch("https://restcountries.com/v3.1/all");
      const data = await response.json();
      const countryNames = data.map(country => country.name.common).sort();

      countryNames.forEach(country => {
        const option1 = document.createElement("option");
        option1.value = country;
        option1.textContent = country;
        country1Select.appendChild(option1);

        const option2 = document.createElement("option");
        option2.value = country;
        option2.textContent = country;
        country2Select.appendChild(option2);
      });
    } catch (error) {
      console.error("Error fetching country list:", error);
    }
  }

  async function fetchCountryDetails(countryName) {
    try {
      const response = await fetch(`https://restcountries.com/v3.1/name/${encodeURIComponent(countryName)}?fullText=true`);
      const data = await response.json();
      return data[0];
    } catch (error) {
      console.error(`Error fetching details for ${countryName}:`, error);
      return null;
    }
  }

  async function compareCountries() {
    const country1 = country1Select.value;
    const country2 = country2Select.value;

    if (!country1 || !country2) {
      alert("Please select both countries.");
      return;
    }

    const [details1, details2] = await Promise.all([
      fetchCountryDetails(country1),
      fetchCountryDetails(country2)
    ]);

    if (!details1 || !details2) {
      comparisonResults.innerHTML = "<p>Error fetching country details. Please try again later.</p>";
      return;
    }

    const resultHTML = `
      <div class="comparison-column">
        <h3>${details1.name.common}</h3>
        <p><strong>Population:</strong> ${details1.population.toLocaleString()}</p>
        <p><strong>Area:</strong> ${details1.area.toLocaleString()} km²</p>
        <p><strong>Region:</strong> ${details1.region}</p>
        <p><strong>Capital:</strong> ${details1.capital ? details1.capital.join(", ") : "N/A"}</p>
        <p><strong>Languages:</strong> ${details1.languages ? Object.values(details1.languages).join(", ") : "N/A"}</p>
      </div>
      <div class="comparison-column">
        <h3>${details2.name.common}</h3>
        <p><strong>Population:</strong> ${details2.population.toLocaleString()}</p>
        <p><strong>Area:</strong> ${details2.area.toLocaleString()} km²</p>
        <p><strong>Region:</strong> ${details2.region}</p>
        <p><strong>Capital:</strong> ${details2.capital ? details2.capital.join(", ") : "N/A"}</p>
        <p><strong>Languages:</strong> ${details2.languages ? Object.values(details2.languages).join(", ") : "N/A"}</p>
      </div>
    `;
    comparisonResults.innerHTML = resultHTML;
  }

  if (compareBtn) {
    compareBtn.addEventListener("click", compareCountries);
  } else {
    console.error("Compare button not found in the modal.");
  }

  closeComparisonModal.addEventListener("click", () => {
    comparisonModal.style.display = "none";
  });
  window.addEventListener("click", (event) => {
    if (event.target === comparisonModal) {
      comparisonModal.style.display = "none";
    }
  });

  populateComparisonDropdowns();
});
            </pre>
          </div>
        </div>

        <!-- Timeline & Milestones -->
        <h3>Timeline &amp; Milestones</h3>
        <ul>
          <li><strong>Week 1:</strong> Ideation and initial design sketches.</li>
          <li><strong>Week 2:</strong> Research on mapping libraries and news integration options.</li>
          <li><strong>Week 3:</strong> Development of the interactive map and Wikipedia integration.</li>
          <li><strong>Week 4:</strong> Testing various methods for live news fetching.</li>
          <li><strong>Week 5:</strong> Implementation of map markers and refinement of UI elements.</li>
          <li><strong>Week 6:</strong> Addition of the Country Guessing Game and local storage functionality.</li>
          <li><strong>Week 7:</strong> Integration of the "Compare Countries" feature, allowing users to compare two countries side-by-side, showcasing key details such as population, area, region, and more.</li>
        </ul>

        <!-- Project Video Walkthrough Placeholder -->
        <h3>Project Video Walkthrough</h3>
        <div class="video-placeholder">
          <p>Your video walkthrough will appear here once uploaded.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript for Collapsible Sections -->
  <script>
    document.querySelectorAll('.collapsible-header').forEach(header => {
      header.addEventListener('click', () => {
        header.parentElement.classList.toggle('active');
      });
    });
  </script>
</body>
</html>
